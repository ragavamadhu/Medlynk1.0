!function(t,e){var n=e(t);"function"==typeof define&&define.amd?define(function(){return n}):"object"==typeof module&&module.exports?module.exports=n:t.Gauge=n}("undefined"==typeof window?this:window,function(t,e){function n(t){function e(){var t=a/r,n=s*f(t)+o;l(n,a),a+=1,t<1&&i(e)}var n=t.duration,a=1,r=60*n,o=t.start||0,u=t.end,s=u-o,l=t.step,f=t.easing||function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)};i(e)}var a=t.document,r=Array.prototype.slice,i=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)},o=function(){function t(){var t=arguments[0],e=r.call(arguments,1);return e.forEach(function(e){for(k in e)e.hasOwnProperty(k)&&(t[k]=e[k])}),t}function e(t,e,n){var r=a.createElementNS(f,t);for(var i in e)r.setAttribute(i,e[i]);return n&&n.forEach(function(t){r.appendChild(t)}),r}function i(t,e){return t*e/100}function o(t,e,n){var a=Number(t);return a>n?n:a<e?e:a}function u(t,e,n){return 100*(Math.abs(e)+t)/(n-e)}function s(t,e,n,a){var r=a*Math.PI/180;return{x:Math.round(1e3*(t+n*Math.cos(r)))/1e3,y:Math.round(1e3*(e+n*Math.sin(r)))/1e3}}function l(t,e,n){var a=d.centerX,r=d.centerY;return{end:s(a,r,t,n),start:s(a,r,t,e)}}var f="http://www.w3.org/2000/svg",d={centerX:50,centerY:50},c={dialRadius:40,dialStartAngle:135,dialEndAngle:45,value:0,max:100,min:0,valueDialClass:"value",valueClass:"value-text",dialClass:"dial",gaugeClass:"gauge",showValue:!0,gaugeColor:null,label:function(t){return Math.round(t)}};return function(a,r){function s(t,e,n,a){var r=l(t,e,n),i=r.start,o=r.end,u="undefined"==typeof a?1:a;return["M",i.x,i.y,"A",t,t,0,u,1,o.x,o.y].join(" ")}function f(t){v=e("text",{x:50,y:50,fill:"#999","class":k,"font-size":"100%","font-family":"sans-serif","font-weight":"normal","text-anchor":"middle"}),m=e("path",{"class":b,fill:"none",stroke:"#666","stroke-width":2.5,d:s(x,C,C)});var n=i(100,360-Math.abs(C-M)),a=n<=180?0:1,r=e("svg",{viewBox:"0 0 100 100","class":V},[e("path",{"class":R,fill:"none",stroke:"#eee","stroke-width":2,d:s(x,C,M,a)}),v,m]);t.appendChild(r)}function d(t,e){var n=u(t,w,p),a=i(n,360-Math.abs(C-M)),o=a<=180?0:1;y&&(v.textContent=q.call(r,t)),m.setAttribute("d",s(x,C,a+C,o))}r=t({},c,r);var v,m,h,g=a,p=r.max,w=r.min,A=o(r.value,w,p),x=r.dialRadius,y=r.showValue,C=r.dialStartAngle,M=r.dialEndAngle,b=r.valueDialClass,k=r.valueClass,R=(r.valueLabelClass,r.dialClass),V=r.gaugeClass,E=r.color,q=r.label;if(C<M){console.log("WARN! startAngle < endAngle, Swapping");var F=C;C=M,M=F}return h={setMaxValue:function(t){p=t},setValue:function(t){A=o(t,w,p),d(A)},setValueAnimated:function(t,e){var a=A;if(A=o(t,w,p),a!==A){if(E){var r=E(A),i=1e3*e,u="stroke "+i+"ms ease";m.style=["stroke: "+r,"-webkit-transition: "+u,"-moz-transition: "+u,"transition: "+u].join(";")}n({start:a||0,end:A,duration:e||1,step:function(t,e){d(t,e)}})}},getValue:function(){return A}},f(g),d(A),h}}();return o});